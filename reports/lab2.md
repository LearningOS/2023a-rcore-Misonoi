## 编程作业

1. 实现了`sys_get_time`和`sys_task_info`。 想法是利用`translated_ref_mut`(这个函数来源于第五章)， 获得传入参数的指针的实际上的物理地址， 然后进行操作。
2. 实现了`sys_map`和`sys_unmap`， `sys_map`的想法是通过`start`和`len`构造出对应的虚拟地址， 然后往里面塞一块`MapArea`。 而`sys_unmap`是先查找到要删除的`MapArea`的下标， 解映射后从向量中删除。

## 问答题

1. 标志位用于判断页面的合法性， 以及对页面的访问进行控制。

2. 
    1. 没有创建对应的映射时会产生缺页异常， 还有某些系统调用也可能会出现缺页异常。
    2. 发生缺页时重要的是`satp`寄存器， 可以获得根页表的页号。
    3. 好处是只要在需要的时候才会加载对应的页表， 可以省下空间。
    4. $10^7$
    5. 可以引入额外的标记来实现`lazy`
    6. 页表项中的`V`标志位记录页面不合法

3. 
    1. 应该和双页表差不多
    2. 使用页表项的`U`标志位
    3. 单页表实现更简单， 而且不需要额外的页表切换操作， 可以减少`TLB`缓存失效的次数， 提高性能
    4. 在发生系统调用， 中断， 异常的时候更换页表。

## 荣誉准则

1. 在完成本次实验的过程（含此前学习的过程）中，我曾分别与 **以下各位** 就（与本次实验相关的）以下方面做过交流，还在代码中对应的位置以注释形式记录了具体的交流对象及内容：

    > *无*

2. 此外，我也参考了 **以下资料** ，还在代码中对应的位置以注释形式记录了具体的参考来源及内容：

    > [v3](https://rcore-os.cn/rCore-Tutorial-Book-v3)

3. 我独立完成了本次实验除以上方面之外的所有工作，包括代码与文档。 我清楚地知道，从以上方面获得的信息在一定程度上降低了实验难度，可能会影响起评分。

4. 我从未使用过他人的代码，不管是原封不动地复制，还是经过了某些等价转换。 我未曾也不会向他人（含此后各届同学）复制或公开我的实验代码，我有义务妥善保管好它们。 我提交至本实验的评测系统的代码，均无意于破坏或妨碍任何计算机系统的正常运转。 我清楚地知道，以上情况均为本课程纪律所禁止，若违反，对应的实验成绩将按 “-100” 分计。